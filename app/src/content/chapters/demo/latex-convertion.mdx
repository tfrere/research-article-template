import Note from '../../../components/Note.astro';
import Accordion from '../../../components/Accordion.astro';

## From LaTeX to Web

<Note variant="warning">
⚠️ **Highly Experimental Feature** — This LaTeX conversion toolkit is in active development and may not work perfectly with all LaTeX documents. Results may vary depending on your document structure and complexity.
</Note>

Convert your existing LaTeX papers directly to this template using the built-in LaTeX to MDX toolkit. This powerful system transforms academic LaTeX documents into fully interactive web articles with all template features.

### How it works

The conversion pipeline transforms your LaTeX source into template-ready MDX:

<Note>
**Smart Conversion** — The system preserves scientific formatting while adding interactivity: equations become clickable, figures get zoom functionality, and references become live links.
</Note>

```bash
# Navigate to the conversion toolkit
cd app/scripts/latex-to-mdx/

# Place your LaTeX files in input/
cp your-paper.tex input/main.tex
cp your-paper.bib input/main.bib
cp -r your-figures/ input/figures/

# Run the complete conversion
node index.mjs

# Your converted article is ready!
# → output/main.mdx (ready for the template)
# → assets/image/ (processed figures)
```

### What gets converted

The system intelligently transforms LaTeX elements into template components:

**Mathematical content:**
- `\label{eq:name}` → Interactive equations with `\htmlId{name}`
- `\ref{eq:name}` → Clickable equation links
- Complex math preserved with KaTeX

**References and citations:**
- `\label{sec:intro}` → Invisible anchors `<span id="intro">`
- `\ref{sec:intro}` → Working internal links
- Bibliography integration

**Visual elements:**
- `\includegraphics{}` → `<Figure>` components with zoom
- `\highlight{text}` → `<mark>` styling  
- Figure captions and numbering

**Structure:**
- Sections → Proper heading hierarchy
- Custom LaTeX commands → Clean markdown
- Code snippets → Syntax-highlighted blocks

### Example transformation

**LaTeX input:**
```latex
\section{Introduction}\label{sec:intro}

The main equation is:
\begin{equation}\label{eq:main}
E = mc^2
\end{equation}

As shown in equation \ref{eq:main}...

\includegraphics{figure1.png}
```

**Generated MDX:**
```mdx
## Introduction
<span id="intro" style="position: absolute;"></span>

The main equation is:
$$\htmlId{main}{E = mc^2}$$

As shown in [equation](#main)...

<Figure src={figure1} alt="Figure 1" />
```

### Prerequisites

- **Pandoc** installed (`brew install pandoc`)
- LaTeX source files and bibliography
- Figures in supported formats (PNG, JPG, PDF)

<Accordion title="Advanced conversion options">
```bash
# Conversion pipeline steps
node latex-converter.mjs    # LaTeX → Markdown  
node mdx-converter.mjs      # Markdown → MDX

# Bibliography only
node index.mjs --bib-only

# Clean output before conversion
node index.mjs --clean

# Custom input/output paths
node index.mjs --input=paper.tex --output=../content/
```
</Accordion>

The result is a fully interactive article that preserves your scientific content while gaining all template benefits: responsive design, interactive equations, zoomable figures, and modern web features.

### Docker deployment with LaTeX conversion

When deploying on Hugging Face Spaces, you can enable automatic LaTeX conversion during the build process by setting the `ENABLE_LATEX_CONVERSION=true` environment variable. 

If this variable is configured in your Space, the build process will automatically execute the LaTeX to MDX conversion, transforming your LaTeX sources into the final blog post format.

This allows you to maintain LaTeX sources in your repository while automatically generating the MDX content for production deployment.
